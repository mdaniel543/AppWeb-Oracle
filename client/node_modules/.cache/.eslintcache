[{"/home/daniel/Escritorio/MIA-Proyecto2/client/src/index.js":"1","/home/daniel/Escritorio/MIA-Proyecto2/client/src/App.js":"2","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/guest.js":"3","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/login.js":"4","/home/daniel/Escritorio/MIA-Proyecto2/client/src/utils/date.js":"5","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/AdminSystem.js":"6","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/AdminUser.js":"7","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/reclutador.js":"8"},{"size":192,"mtime":1634671114320,"results":"9","hashOfConfig":"10"},{"size":783,"mtime":1634881016257,"results":"11","hashOfConfig":"10"},{"size":15760,"mtime":1634946766468,"results":"12","hashOfConfig":"10"},{"size":3117,"mtime":1634920374356,"results":"13","hashOfConfig":"10"},{"size":220,"mtime":1634514982882,"results":"14","hashOfConfig":"10"},{"size":2727,"mtime":1634682249425,"results":"15","hashOfConfig":"10"},{"size":18727,"mtime":1634922955326,"results":"16","hashOfConfig":"10"},{"size":16354,"mtime":1634947274661,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1393peg",{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/daniel/Escritorio/MIA-Proyecto2/client/src/index.js",[],["36","37"],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/App.js",[],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/guest.js",["38","39","40","41"],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/login.js",[],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/utils/date.js",[],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/AdminSystem.js",[],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/AdminUser.js",["42","43","44"],"import React, { Component, useState } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Dropdown from 'react-dropdown';\nimport 'react-dropdown/style.css';\nimport {getCurrentDate} from '../utils/date'\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nimport {\n    Table,\n    Button,\n    Container,\n    Modal,\n    ModalHeader,\n    ModalBody,\n    FormGroup,\n    ModalFooter\n} from \"reactstrap\";\n\n\n\nclass AdminUser extends Component{\n    \n    constructor() {\n        super();\n        this.state = {\n            modalActualizar: false,\n            modalInsertar: false,\n            tasks: [],\n            copy:[],\n            data :{\n                id: '',\n                user: '',\n                pass: '',\n                estado: '',\n                inicio: '',\n                fin: '',\n                correo: '',\n                rol: '',\n                depa: ''\n            },\n            search:{\n                user: null,\n                estado: null,\n                inicio: null,\n                fin: null,\n                rol: null\n            },\n            estado: [\"Activo\", \"Inactivo\"],\n            load : true,\n            bus: false,\n            modalBuscar: false,\n            rols: [\"Coordinador\", \"Reclutador\", \"Revisor\"], \n            depas: [],\n            date : getCurrentDate()\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleChangeR = this.handleChangeR.bind(this);\n        this.handleChangeD = this.handleChangeD.bind(this);\n        this.handleChangeS = this.handleChangeS.bind(this);\n        this.handleChangeES = this.handleChangeES.bind(this);\n        this.handleChangeRS = this.handleChangeRS.bind(this);\n\n        this.fetchTasks();\n        this.fetchdepa();\n    }\n    \n    fetchTasks() {\n        fetch('/selectU')\n          .then(res => res.json())\n          .then(data => {\n            console.log(data)\n            this.setState({tasks: data, load: false, copy: data});\n          });\n    }\n    fetchdepa() {\n        fetch('/depas')\n          .then(res => res.json())\n          .then(data => {\n            const aux = [];\n            for(const i of data){\n                aux.push(i.nombre)    \n            }\n            this.setState({depas: aux});\n        });\n    }\n    handleChangeES(e) {\n        this.setState({\n          search:{\n              ...this.state.search,\n              estado: e.value\n          },\n        });\n    } \n    handleChangeRS(e) {\n        this.setState({\n          search:{\n              ...this.state.search,\n              rol: e.value\n          },\n        });\n    }\n\n\n    handleChangeS(e) {\n        const { name, value } = e.target;\n        this.setState({\n          search:{\n              ...this.state.search,\n              [name]: value\n          },\n        });\n    }\n\n    buscar(Finicio, Ffinal){\n        console.log(this.state.search)\n        let inicio = null, final = null;\n        if(Finicio != null) inicio =  `${Finicio.getFullYear()}-${Finicio.getMonth()+1}-${Finicio.getDate()}`\n        if(Ffinal != null) final = `${Ffinal.getFullYear()}-${Ffinal.getMonth()+1}-${Ffinal.getDate()}`\n        console.log(inicio)\n        console.log(final)\n        this.setState({load: true})\n\n        let estado = null;\n        if(this.state.search.estado == 'Activo'){\n            estado = '1'\n        }else if(this.state.search.estado == 'Inactivo'){\n            estado = '0'\n        }\n        fetch('/searchU', {\n            method: 'POST',\n            body: JSON.stringify({\n                usuario: this.state.search.user,\n                estado: estado,\n                inicio: inicio,\n                final: final,\n                rol: this.state.search.rol\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.json())\n            .then(data => {\n                this.setState({tasks: data});\n                this.setState({load: false});\n            })\n            .catch(err => console.error(err));\n\n        this.setState({bus: true, modalBuscar: false})\n        this.setState({\n            search:{\n                ...this.state.search,\n                user: null,\n                estado: null,\n                inicio: null,\n                fin: null,\n                rol: null\n            },\n          });\n    }\n\n    mostrarModalBuscar(){\n        this.setState({modalBuscar: true})\n    }\n    cerrarModalBuscar(){\n        this.setState({modalBuscar: false})\n        //this.fetchTasks();\n    }\n    cerrarBusqueda(){\n        this.setState({tasks: this.state.copy, bus: false})\n    }\n\n\n    mostrarModalInsertar(){\n        this.setState({modalInsertar: true})\n    }\n    cerrarModalInsertar(){\n        this.setState({modalInsertar: false})\n        this.fetchTasks();\n    }\n    mostrarModalActualizar(dato){\n        this.setState({\n            data : dato,\n            modalActualizar: true\n        })\n    }\n    cerrarModalActualizar(){\n        this.setState({modalActualizar: false})\n    }\n\n    editar(dato){\n        console.log(this.state.data)\n        fetch('/updateU', {\n            method: 'PUT',\n            body: JSON.stringify({\n                idP: dato.id,\n                usuario: dato.user,\n                pass: dato.pass,\n                rol: dato.rol,\n                correo: dato.correo,\n                depa: dato.depa\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.json())\n            .then(data => {\n                window.alert(data.msg);\n                this.fetchTasks();\n            })\n            .catch(err => console.error(err));\n        this.cerrarModalActualizar();\n        this.fetchTasks();\n    }\n    eliminar(dato){\n        console.log(this.state.data)\n        fetch('/deleteU', {\n            method: 'PUT',\n            body: JSON.stringify({\n                idP: dato.id,\n                fin: this.state.date\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.json())\n            .then(data => {\n                window.alert(data.msg);\n                this.fetchTasks();\n            })\n            .catch(err => console.error(err));\n        this.fetchTasks();\n    }\n    insertar(){\n        console.log(this.state.data)\n        fetch('/insertU', {\n            method: 'POST',\n            body: JSON.stringify({\n                usuario: this.state.data.user,\n                pass: this.state.data.pass,\n                inicio: this.state.date,\n                rol: this.state.data.rol,\n                correo: this.state.data.correo,\n                depa:this.state.data.depa\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.json())\n            .then(data => {\n                window.alert(data.msg);\n                this.fetchTasks();\n            })\n            .catch(err => console.error(err));\n        this.cerrarModalInsertar()\n        this.fetchTasks();\n    }\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({\n          data:{\n              ...this.state.data,\n              [name]: value\n          },\n        });\n    }\n\n    handleChangeR(e) {\n        this.setState({\n          data:{\n              ...this.state.data,\n              rol: e.value\n          },\n        });\n    }\n    handleChangeD(e) {\n        this.setState({\n          data:{\n              ...this.state.data,\n              depa: e.value\n          },\n        });\n    }\n\n    cerrarSesion=()=>{\n        window.location.href='./';\n    }\n\n    render (){\n        return(\n            <div className=\"crud\">\n            <nav role=\"navigation\">\n            <div id=\"menuToggle\">\n            <input type=\"checkbox\"/>\n            <span></span>\n            <span></span>\n            <span></span>\n            <ul id=\"menu\">\n            <button onClick={()=>this.mostrarModalBuscar()}><li>Buscar Usuario</li></button>\n            <div className='boxer'/>\n            <button onClick={()=>this.cerrarSesion()}><li>Cerrar Sesion</li></button>\n            </ul>\n            </div>\n            </nav>\n            <div className='xml'>\n            <h1>Usuarios</h1>\n            </div>\n            <Container>\n            <br />\n            <Button color=\"primary\" onClick={()=>this.mostrarModalInsertar()}>Crear Usuario</Button>\n            <br />\n            <br />\n            {(() => {\n                    if(this.state.bus === true){\n                        return<Container>\n                        <Button style={{float: 'right'}}\n                        className=\"btn btn-danger\"\n                        onClick={() => this.cerrarBusqueda()}\n                        >\n                        X\n                        </Button>\n                        <div class = \"box\"></div>\n                        </Container>\n                        \n                    }\n            })()}\n            <Table>\n                <thead>\n                <tr>\n                    <th>Usuario</th>\n                    <th>Contraseña</th>\n                    <th>Correo</th>\n                    <th>Fecha Inicio</th>\n                    <th>Fecha Fin</th>\n                    <th>Rol</th>\n                    <th>Departamento</th>\n                </tr>\n                </thead>\n\n                {this.state.tasks.map((dato) => (\n                    (() => {\n                        if(dato.estado == 1){\n                            return <Ifyes dato = {dato} this= {this}/>\n                        }else{\n                            return <Elsen dato = {dato} this = {this}/>\n                        }\n                    })()\n                ))}\n\n            </Table>\n            </Container>\n            \n            <Modal isOpen={this.state.modalInsertar} fade={false}>\n            <ModalHeader>\n            <div><h3>Insertar Usuario</h3></div>\n            </ModalHeader>\n            <ModalBody>\n                <FormGroup>\n                <label>\n                    Usuario: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"user\"\n                    type=\"text\"\n                    onChange={this.handleChange}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    password: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"pass\"\n                    type=\"text\"\n                    onChange={this.handleChange}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Correo: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"correo\"\n                    type=\"text\"\n                    onChange={this.handleChange}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Rol\n                </label>\n                <Dropdown \n                name = \"rol\" options={this.state.rols} \n                onChange={this.handleChangeR} \n                placeholder=\"Selecciona Rol\" />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Departamento\n                </label>\n                <Dropdown name = \"depa\" options={this.state.depas} onChange={this.handleChangeD} placeholder=\"Selecciona Departamento\" />\n                </FormGroup>\n            </ModalBody>\n            <ModalFooter>\n                <Button\n                color=\"primary\"\n                onClick={() => this.insertar()}\n                >\n                Insertar\n                </Button>\n                <Button\n                className=\"btn btn-danger\"\n                onClick={() => this.cerrarModalInsertar()}\n                >\n                Cancelar\n                </Button>\n            </ModalFooter>\n            </Modal>\n\n            <Modal isOpen={this.state.modalActualizar} fade={false}>\n            <ModalHeader>\n            <div><h3>Editar Usuario</h3></div>\n            </ModalHeader>\n            <ModalBody>\n                <FormGroup>\n                <label>\n                    Usuario: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"user\"\n                    type=\"text\"\n                    onChange={this.handleChange}\n                    value={this.state.data.user}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Contraseña: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"pass\"\n                    type=\"text\"\n                    onChange={this.handleChange}\n                    value={this.state.data.pass}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Correo: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"correo\"\n                    type=\"text\"\n                    onChange={this.handleChange}\n                    value={this.state.data.correo}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Rol\n                </label>\n                <Dropdown name = \"rol\" options={this.state.rols} onChange={this.handleChangeR} value={this.state.data.rol} placeholder=\"Selecciona Rol\" />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Departamento\n                </label>\n                <Dropdown name = \"depa\" options={this.state.depas} onChange={this.handleChangeD} value={this.state.data.depa} placeholder=\"Selecciona Departamento\" />\n                </FormGroup>\n            </ModalBody>\n            <ModalFooter>\n                <Button\n                color=\"primary\"\n                onClick={() => this.editar(this.state.data)}\n                >\n                Editar\n                </Button>\n                <Button\n                color=\"danger\"\n                onClick={() => this.cerrarModalActualizar()}\n                >\n                Cancelar\n                </Button>\n            </ModalFooter>\n            </Modal>  \n\n            <SearchU this={this}/>\n        </div>\n        );\n    }\n}\n\nfunction Ifyes(props) {\n    var dato = props.dato;\n    return(\n        <tbody style={{backgroundColor : \"#81C784\"}}>\n        <tr key={dato.id} >\n        <td>{dato.user}</td>\n        <td>{dato.pass}</td>\n        <td>{dato.correo}</td>\n        <td>{dato.inicio}</td>\n        <td>{dato.fin}</td>\n        <td>{dato.rol}</td>\n        <td>{dato.depa}</td>\n        <td>\n            <Button\n            color=\"primary\"\n            onClick={() => props.this.mostrarModalActualizar(dato)}\n            >\n            Editar\n            </Button>\n            <Button color=\"danger\" onClick={()=> props.this.eliminar(dato)}>Eliminar</Button>\n        </td>\n        </tr>\n        </tbody>\n    );    \n}\n\nfunction Elsen(props) {\n    var dato = props.dato;\n    return(\n        <tbody style={{backgroundColor : \"#F44336\"}}>\n        <tr key={dato.id}>\n        <td>{dato.user}</td>\n        <td>{dato.pass}</td>\n        <td>{dato.correo}</td>\n        <td>{dato.inicio}</td>\n        <td>{dato.fin}</td>\n        <td>{dato.rol}</td>\n        <td>{dato.depa}</td>\n        </tr>\n        </tbody>\n    );\n}\n\nfunction SearchU(props) {\n    var [startDate, setStartDate] = useState(null);\n    var [startDateF, setStartDateF] = useState(null);\n    return(\n        <Modal isOpen={props.this.state.modalBuscar} fade={false}>\n            <ModalHeader>\n            <div><h3>Buscar Usuario</h3></div>\n            </ModalHeader>\n            <ModalBody>\n                <FormGroup>\n                <label>\n                    Usuario: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"user\"\n                    type=\"text\"\n                    onChange={props.this.handleChangeS}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Estado\n                </label>\n                <Dropdown name = \"estado\" options={props.this.state.estado} onChange={props.this.handleChangeES} value={props.this.state.search.estado} placeholder=\"--\" />\n                </FormGroup>\n\n                <FormGroup>\n                <label>\n                    Fecha Inicio: \n                </label>\n                <DatePicker\n                    name = \"inicio\"\n                    dateFormat=\"dd/MM/yyyy\"\n                    isClearable\n                    placeholderText=\"Selecciona Fecha\"    \n                    selected={startDate}\n                    onChange={(date) => setStartDate(date)}\n                    fixedHeight\n                    //withPortal\n                />\n                </FormGroup>\n\n                <FormGroup>\n                <label>\n                    Fecha Final: \n                </label>\n                <DatePicker\n                    name = \"fin\"\n                    dateFormat=\"dd/MM/yyyy\"\n                    selected={startDateF}\n                    isClearable\n                     placeholderText=\"Selecciona Fecha\"\n                    onChange={(date) => setStartDateF(date)}\n                    fixedHeight\n                    //withPortal\n                />\n                </FormGroup>\n\n                <FormGroup>\n                <label>\n                    Rol\n                </label>\n                <Dropdown name = \"rol\" options={props.this.state.rols} onChange={props.this.handleChangeRS} value={props.this.state.search.rol} placeholder=\"--\" />\n                </FormGroup>\n\n            </ModalBody>\n            <ModalFooter>\n                <Button\n                color=\"primary\"\n                onClick={() => props.this.buscar(startDate, startDateF)}\n                >\n                Buscar\n                </Button>\n                <Button\n                color=\"danger\"\n                onClick={() => props.this.cerrarModalBuscar()}\n                >\n                Cancelar\n                </Button>\n            </ModalFooter>\n        </Modal>   \n    );\n}\n\n\n\n\nexport default AdminUser;","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/reclutador.js",["45","46","47","48"],{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","severity":1,"message":"54","line":10,"column":5,"nodeType":"55","messageId":"56","endLine":10,"endColumn":10},{"ruleId":"57","severity":1,"message":"58","line":247,"column":32,"nodeType":"59","messageId":"60","endLine":247,"endColumn":34},{"ruleId":"61","severity":1,"message":"62","line":303,"column":9,"nodeType":"63","endLine":303,"endColumn":65},{"ruleId":"61","severity":1,"message":"62","line":330,"column":9,"nodeType":"63","endLine":330,"endColumn":65},{"ruleId":"57","severity":1,"message":"58","line":125,"column":37,"nodeType":"59","messageId":"60","endLine":125,"endColumn":39},{"ruleId":"57","severity":1,"message":"58","line":127,"column":43,"nodeType":"59","messageId":"60","endLine":127,"endColumn":45},{"ruleId":"57","severity":1,"message":"58","line":351,"column":40,"nodeType":"59","messageId":"60","endLine":351,"endColumn":42},{"ruleId":"57","severity":1,"message":"58","line":252,"column":32,"nodeType":"59","messageId":"60","endLine":252,"endColumn":34},{"ruleId":"57","severity":1,"message":"58","line":486,"column":34,"nodeType":"59","messageId":"60","endLine":486,"endColumn":36},{"ruleId":"57","severity":1,"message":"58","line":488,"column":40,"nodeType":"59","messageId":"60","endLine":488,"endColumn":42},{"ruleId":"57","severity":1,"message":"58","line":490,"column":40,"nodeType":"59","messageId":"60","endLine":490,"endColumn":42},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"no-unused-vars","'Table' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-global-assign","no-unsafe-negation"]