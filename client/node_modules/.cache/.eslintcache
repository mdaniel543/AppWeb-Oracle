[{"/home/daniel/Escritorio/MIA-Proyecto2/client/src/index.js":"1","/home/daniel/Escritorio/MIA-Proyecto2/client/src/App.js":"2","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/guest.js":"3","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/login.js":"4","/home/daniel/Escritorio/MIA-Proyecto2/client/src/utils/date.js":"5","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/AdminSystem.js":"6","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/AdminUser.js":"7","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/reclutador.js":"8","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/Applicant.js":"9","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/reviewer.js":"10","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/coordinator.js":"11"},{"size":192,"mtime":1634671114320,"results":"12","hashOfConfig":"13"},{"size":1389,"mtime":1635466083751,"results":"14","hashOfConfig":"13"},{"size":16162,"mtime":1635450338995,"results":"15","hashOfConfig":"13"},{"size":3485,"mtime":1635466007222,"results":"16","hashOfConfig":"13"},{"size":220,"mtime":1634514982882,"results":"17","hashOfConfig":"13"},{"size":4431,"mtime":1635450289862,"results":"18","hashOfConfig":"13"},{"size":19669,"mtime":1635375032994,"results":"19","hashOfConfig":"13"},{"size":17579,"mtime":1635454751698,"results":"20","hashOfConfig":"13"},{"size":30479,"mtime":1635479907560,"results":"21","hashOfConfig":"13"},{"size":23859,"mtime":1635480367055,"results":"22","hashOfConfig":"13"},{"size":15978,"mtime":1635479386560,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1393peg",{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"26"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"26"},"/home/daniel/Escritorio/MIA-Proyecto2/client/src/index.js",[],["51","52"],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/App.js",["53","54"],"import React, { useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n} from \"react-router-dom\";\nimport { Route } from \"wouter\";\nimport Guest from './components/guest';\nimport Login from './components/login';\nimport AdminSystem from \"./components/AdminSystem\";\nimport AdminUser from \"./components/AdminUser\";\nimport Reclutador from \"./components/reclutador\";\nimport Applicant from \"./components/Applicant\";\nimport Reviewer from \"./components/reviewer\";\nimport Coordinador from './components/coordinator';\n\nfunction App() {\n\n  const [auth, SetAuth] = useState();\n\n  return( \n    <Router>\n      <Switch>\n        <Route path= \"/login\">\n          <Login/>\n        </Route>\n        <Route path= \"/Applicant/:id\">\n          {params => <Applicant id={params.id} />}\n        </Route>\n        <Route path= \"/Coordinador/:id\">\n          {params => <Coordinador id={params.id} />}\n        </Route>\n        <Route path= \"/reviewer/:id\">\n          {params => <Reviewer id={params.id} />}\n        </Route>\n        <Route path= \"/reclutar/:id\">\n          {params => <Reclutador id={params.id} />}\n        </Route>\n        <Route path=\"/AdminSystem\">\n          <AdminSystem />\n        </Route>\n        <Route path=\"/AdminUser\">\n          <AdminUser/>\n        </Route>\n        <Route path=\"/\">\n          <Guest/>\n        </Route>\n      </Switch>\n    </Router>\n\n  );\n}\n\nexport default App;\n","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/guest.js",["55","56"],"import React, { Component } from 'react';\nimport '../styles/guest.css';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Dropdown from 'react-dropdown';\nimport 'react-dropdown/style.css';\nimport {getCurrentDate} from '../utils/date'\nimport axios from 'axios';\nimport Swal from 'sweetalert2'\n\nimport {\n    Button,\n    Container,\n    Modal,\n    ModalHeader,\n    ModalBody,\n    FormGroup,\n    ModalFooter\n} from \"reactstrap\";\n\nclass guest extends Component{\n\n    constructor() {\n        super();\n        this.state = {\n            tasks: [],\n            copy: [],\n            modalBuscar: false,\n            modalSelect: false,\n            depas: [],\n            catego: [],\n            form:{\n                cui:'',\n                nombre: '',\n                apellido: '',\n                correo: '',\n                direccion: '',\n                telefono: '',\n                cv: ''\n            },\n            search: {\n                puesto: null,\n                salario: null,\n                categoria: null,\n                depa: null\n            },\n            load: true,\n            load2: false,\n            bus: false,\n            file: '',\n            depa: '',\n            puesto: '',\n            date : getCurrentDate()\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleChangeF = this.handleChangeF.bind(this);\n        this.handleChangeS = this.handleChangeS.bind(this);\n        this.handleChangeD = this.handleChangeD.bind(this);\n        this.handleChangeC = this.handleChangeC.bind(this);\n        this.fetchTasks()\n        this.fetchdepa()\n        this.fetchCategorias()\n    }\n    fetchTasks() {\n        fetch('/guest')\n          .then(res => res.json())\n          .then(data => {\n            this.setState({tasks: data, copy: data});\n            this.setState({load: false})\n            console.log(this.state.tasks)\n        });\n        \n    }\n    fetchdepa() {\n        fetch('/depas')\n          .then(res => res.json())\n          .then(data => {\n            const aux = [];\n            for(const i of data){\n                aux.push(i.nombre)    \n            }\n            this.setState({depas: aux});\n        });\n    }\n    fetchCategorias() {\n        fetch('/catego')\n          .then(res => res.json())\n          .then(data => {\n            /*const aux = [];\n            for(const i of data){\n                aux.push(i.nombre)    \n            }*/\n            this.setState({catego: data});\n        });\n    }\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({\n          form:{\n              ...this.state.form,\n              [name]: value\n          },\n        });\n    }\n\n    handleChangeF(e) {\n        this.setState({\n          form:{\n              ...this.state.form,\n              cv: e.target.files[0]\n          },\n        });\n    }\n\n    handleChangeD(e) {\n        this.setState({\n          search:{\n              ...this.state.search,\n              depa: e.value\n          },\n        });\n    }\n    handleChangeC(e) {\n        this.setState({\n          search:{\n              ...this.state.search,\n              categoria: e.value\n          },\n        });\n    }\n\n    handleChangeS(e) {\n        const { name, value } = e.target;\n        this.setState({\n          search:{\n              ...this.state.search,\n              [name]: value\n          },\n        });\n    }\n\n    buscar(){\n        console.log(this.state.search)\n        this.setState({load: true})\n        fetch('/searchGuest', {\n            method: 'POST',\n            body: JSON.stringify({\n                puesto: this.state.search.puesto,\n                salario: this.state.search.salario,\n                categoria: this.state.search.categoria,\n                depa: this.state.search.depa\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.json())\n            .then(data => {\n                this.setState({tasks: data});\n                this.setState({load: false});\n            })\n            .catch(err => console.error(err));\n        this.setState({bus: true, modalBuscar: false})\n        this.setState({\n            search:{\n                ...this.state.search,\n                puesto: null,\n                salario: null,\n                depa: null,\n                categoria: null\n            },\n          });\n\n    }\n    mostrarModalBuscar(){\n        this.setState({modalBuscar: true})\n    }\n    cerrarModalBuscar(){\n        this.setState({modalBuscar: false})\n        //this.fetchTasks();\n    }\n    cerrarBusqueda(){\n        this.setState({tasks: this.state.copy, bus: false})\n    }\n\n    aplicar(){\n        this.cerrarModalSelect();\n        this.setState({load2: true})\n        const formData = new FormData();\n        formData.append(\n            \"file\",\n            this.state.form.cv\n        );\n        console.log(this.state.form.cv);\n        axios.post(\"/upload\",formData, {})\n        .then(res => {\n            console.log(res.data.msg);\n            fetch('/insertAp', {\n                method: 'POST',\n                body: JSON.stringify({\n                    cui: this.state.form.cui,\n                    nombre: this.state.form.nombre,\n                    apellido: this.state.form.apellido,\n                    correo: this.state.form.correo,\n                    direccion: this.state.form.direccion,\n                    telefono:this.state.form.telefono,\n                    cv: res.data.msg,\n                    postu:this.state.date,\n                    depa:this.state.depa,\n                    puesto:this.state.puesto,\n                }),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n                })\n                .then(res => res.json())\n                .then(data => {\n                    Swal.fire(\n                        data.msg\n                    )\n                    this.setState({load2: false})\n                })\n                .catch(err => console.error(err));\n            })\n        \n    \n    }\n\n\n    mostrarModalSelect(dato){\n        this.setState({\n            depa: dato.idD,\n            puesto: dato.idP,\n            modalSelect: true\n        })\n    }\n    cerrarModalSelect(){\n        this.setState({modalSelect: false})\n    }\n    Sesion=()=>{\n        window.location.href='./login';\n    }\n\n    render(){\n        return <div> \n        <Main this={this}/>\n        <div className='xml'>\n            <h1>Puestos</h1>\n        </div>\n        <Search this = {this}/>    \n        <Select this = {this}/> \n        {(() => {\n            if(this.state.load === true){\n                return<Container>\n                <div class=\"load\">\n                <hr/><hr/><hr/><hr/>\n                </div>\n                </Container>\n                \n            }else{\n                return <Carrousel this = {this} />\n            }\n        })()}\n        <Load this= {this}/>\n        </div>\n    }\n}\n\nfunction Load(props){\n    return (\n        <Modal isOpen={props.this.state.load2} fade={false}>\n        <div class=\"load\">\n        <hr/><hr/><hr/><hr/>\n        </div>\n        </Modal>\n    );\n}\n\nfunction Main(props){\n    return(\n        <nav role=\"navigation\">\n            <div id=\"menuToggle\">\n            <input type=\"checkbox\"/>\n            <span></span>\n            <span></span>\n            <span></span>\n            <ul id=\"menu\">\n            <button onClick={()=>props.this.mostrarModalBuscar()}><li>Buscar Puesto</li></button>\n            <div className='boxer'/>\n            <button onClick={()=>props.this.Sesion()}><li>Iniciar Sesion</li></button>\n            </ul>\n            </div>\n        </nav>\n       \n    );\n}\n\nfunction Ifblock(props){\n    return (\n        <div class=\"card text-center\" style={{backgroundImage: `url(${props.e.Imagen})`, backgroundSize: 'cover'}}>\n        <div class=\"title\">\n        <h2>{props.e.Puesto}</h2>\n        </div>\n        <div class=\"option\">\n            <ul>\n            <li> <i class=\"fa fa-check\" aria-hidden=\"true\"></i>Salario: {props.e.Salario} </li>\n            <li> <i class=\"fa fa-check\" aria-hidden=\"true\"></i>Departamento: {props.e.Departamento} </li>                    \n            <li> <i class=\"fa fa-check\" aria-hidden=\"true\"></i>Categorias: </li>                    \n            <ul>\n                {\n                    props.e.Categorias.map(dsa =>\n                        <li> <i class=\"fa fa-times\" aria-hidden=\"true\"></i>{dsa.nombre} </li>\n\n                    )\n                }\n            </ul>\n            </ul>\n        </div>\n        <a onClick={()=>props.this.mostrarModalSelect(props.e)}>Seleccionar</a>\n\n        </div>\n    );\n}\n\nfunction Elseblock(props){\n    return (\n        <div class=\"card text-center\">\n        <div class=\"title\">\n        <h2>{props.e.Puesto}</h2>\n        </div>\n        <div class=\"option\">\n            <ul>\n            <li> <i class=\"fa fa-check\" aria-hidden=\"true\"></i>Salario: {props.e.Salario} </li>\n            <li> <i class=\"fa fa-check\" aria-hidden=\"true\"></i>Departamento: {props.e.Departamento} </li>                    \n            <li> <i class=\"fa fa-check\" aria-hidden=\"true\"></i>Categorias: </li>                    \n            <ul>\n                {\n                    props.e.Categorias.map(dsa =>\n                        <li> <i class=\"fa fa-times\" aria-hidden=\"true\"></i>{dsa.nombre} </li>\n\n                    )\n                }\n            </ul>\n            </ul>\n        </div>\n        <a onClick={()=>props.this.mostrarModalSelect(props.e)}>Seleccionar</a>\n\n        </div>\n    );\n}\n\nfunction Carrousel(props){\n    return(\n        <body>\n            <section>\n                {(() => {\n                    if(props.this.state.bus === true){\n                        return<Container>\n                        <Button\n                        className=\"btn btn-danger\"\n                        onClick={() => props.this.cerrarBusqueda()}\n                        >\n                        X\n                        </Button>\n                        <div class = \"box\"></div>\n                        </Container>\n                        \n                    }\n                })()}\n                <div class=\"container-fluid\">\n                <div class=\"container\">\n                <div class=\"row\">\n                {               \n                    props.this.state.tasks.map((e, index) => \n                        <div>\n                        {\n                            <div class=\"col-sm-4\">\n                            {(() => {\n                                if(e.Imagen != null){\n                                    return <Ifblock e = {e} this = {props.this}/>\n                                }else{\n                                    return <Elseblock e = {e} this = {props.this}/>\n                                }\n                            })()}\n                             <div class = \"box\"></div>\n                            </div>                \n                        } \n                        </div>\n                    )   \n                }\n                </div>\n                </div>\n                </div>   \n            </section> \n        </body> \n    );\n\n}\n\n\nfunction Search(props){\n    return(\n        <Modal isOpen={props.this.state.modalBuscar} fade={false}>\n            <ModalHeader>\n            <div><h3>Buscar</h3></div>\n            </ModalHeader>\n            <ModalBody>\n                <FormGroup>\n                <label>\n                    Nombre: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"puesto\"\n                    type=\"text\"\n                    onChange={props.this.handleChangeS}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Salario: \n                </label>\n                <input \n                className=\"form-control\" \n                type=\"number\" \n                name=\"salario\" \n                onChange={props.this.handleChangeS} \n                step=\"1000\"></input>\n               \n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Categoria\n                </label>\n                <Dropdown \n                name = \"rol\" \n                options = {props.this.state.catego}\n                onChange={props.this.handleChangeC}\n                placeholder=\"--\" \n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Departamento\n                </label>\n                <Dropdown \n                name = \"depa\" \n                options={props.this.state.depas}\n                onChange={props.this.handleChangeD}\n                placeholder=\"--\" />\n                </FormGroup>\n            </ModalBody>\n            <ModalFooter>\n                <Button\n                color=\"primary\"\n                onClick={() => props.this.buscar()}\n                >\n                Buscar\n                </Button>\n                <Button\n                className=\"btn btn-danger\"\n                onClick={() => props.this.cerrarModalBuscar()}\n                >\n                Cancelar\n                </Button>\n            </ModalFooter>\n            </Modal>\n    );\n}\n\n\nfunction Select(props){\n    return(\n        <Modal isOpen={props.this.state.modalSelect} fade={false}>\n        <ModalHeader>\n        <div><h3>Aplicar para puesto</h3></div>\n        </ModalHeader>\n        <ModalBody>\n            <FormGroup>\n            <label>\n                CUI: \n            </label>\n            <input\n                className=\"form-control\"\n                name=\"cui\"\n                type=\"text\"\n                onChange={props.this.handleChange}\n            />\n            </FormGroup>\n            <FormGroup>\n            <label>\n                Nombres: \n            </label>\n            <input\n                className=\"form-control\"\n                name=\"nombre\"\n                type=\"text\"\n                onChange={props.this.handleChange}\n            />\n            </FormGroup>\n            <FormGroup>\n            <label>\n                Apellidos: \n            </label>\n            <input\n                className=\"form-control\"\n                name=\"apellido\"\n                type=\"text\"\n                onChange={props.this.handleChange}\n            />\n            </FormGroup>\n            <FormGroup>\n            <label>\n                Correo: \n            </label>\n            <input\n                className=\"form-control\"\n                name=\"correo\"\n                type=\"text\"\n                onChange={props.this.handleChange}\n            />\n            </FormGroup>\n            <FormGroup>\n            <label>\n                Direccion \n            </label>\n            <input\n                className=\"form-control\"\n                name=\"direccion\"\n                type=\"text\"\n                onChange={props.this.handleChange}\n            />\n             </FormGroup>\n            <FormGroup>\n            <label>\n                Telefono: \n            </label>\n            <input\n                className=\"form-control\"\n                name=\"telefono\"\n                type=\"text\"\n                onChange={props.this.handleChange}\n            />\n            </FormGroup>\n            <FormGroup>\n            <label>\n                CV: \n            </label>\n            <input\n                className=\"form-control\"\n                name=\"cv\"\n                type=\"file\"\n                multiple={false}\n                onChange={props.this.handleChangeF}\n            />\n            </FormGroup>\n        </ModalBody>\n        <ModalFooter>\n            <Button\n            color=\"primary\"\n            onClick={() => props.this.aplicar()}\n            >\n            Aplicar\n            </Button>\n            <Button\n            className=\"btn btn-danger\"\n            onClick={() => props.this.cerrarModalSelect()}\n            >\n            Cancelar\n            </Button>\n        </ModalFooter>\n        </Modal>\n    );\n}\n\n\nexport default guest;\n","/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/login.js",["57"],"import React, { Component } from \"react\";\nimport '../styles/login.css'\nimport Cookies from 'universal-cookie';\nimport {\n    Modal,\n} from \"reactstrap\";\nimport Swal from 'sweetalert2'\n\n\nconst cookies = new Cookies();\n\n\nclass login extends Component{\n\n    constructor(props) {\n        super(props);\n        this.state = {\n          user: '',\n          load2: false,\n          pass: '',\n          tasks: []\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.prob = this.prob.bind(this);\n    }\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({\n          [name]: value\n        });\n    }\n    \n    prob(e) {\n        this.setState({load2: true})\n        e.preventDefault();\n        fetch('/loginn', {\n        method: 'POST',\n        body: JSON.stringify({\n            usuario: this.state.user,\n            pass: this.state.pass\n        }),\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        }\n        })\n        .then(res => res.json())\n        .then(data => {\n            console.log(data)\n            switch(data.Rol){\n                case \"Admin Sistema\":\n                    window.location.href=`./AdminSystem`;\n                    break;\n                case \"Admin Usuario\":\n                    window.location.href=\"./AdminUser\";\n                    break;\n                case \"Coordinador\":\n                    window.location.href=`./Coordinador/${data.id}`;\n                    break;\n                case \"Reclutador\":\n                    console.log(data.id)\n                    window.location.href=`./reclutar/${data.id}`;\n                    break;\n                case \"Revisor\":\n                    window.location.href=`./reviewer/${data.id}`;\n                    break;\n                case undefined:\n                    console.log(\"NADA\")\n                    Swal.fire({\n                        icon: 'error',\n                        title: 'Oops...',\n                        text: 'Usuario y/o Contraseña incorrecta',\n                      })\n                    this.setState({user: '', pass: '', load2:false});\n                    break;\n                case \"Aplicante\":\n                    window.location.href=`./Applicant/${data.id}`;\n                    break;\n                default:\n                    break;\n            }    \n        })\n        .catch(err => console.error(err));\n    }\n\n    render(){\n        return <div className=\"login\">\n            <div class=\"wrapper fadeInDown\">\n            <div id=\"formContent\">\n                <h2 class=\"active\"> Iniciar sesion </h2>\n                <div class=\"fadeIn first\">\n                </div>\n                <form onSubmit={this.prob}>\n                <input type=\"text\" id=\"login\" class=\"fadeIn second\" name=\"user\" onChange={this.handleChange} value={this.state.user} placeholder=\"Usuario\" />\n                <input type=\"password\" id=\"password\" class=\"fadeIn third\" name=\"pass\" onChange={this.handleChange} value={this.state.pass} placeholder=\"Contraseña\"/>\n                <input type=\"submit\" class=\"fadeIn fourth\" value=\"Log In\"/>\n                </form>\n            </div>\n            </div>\n            <Load this= {this}/>\n        </div>\n    }\n}\nfunction Load(props){\n    return (\n        <Modal isOpen={props.this.state.load2} fade={false}>\n        <div class=\"load\">\n        <hr/><hr/><hr/><hr/>\n        </div>\n        </Modal>\n    );\n}\n\nexport default login;","/home/daniel/Escritorio/MIA-Proyecto2/client/src/utils/date.js",[],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/AdminSystem.js",[],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/AdminUser.js",[],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/reclutador.js",[],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/Applicant.js",["58"],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/reviewer.js",[],"/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/coordinator.js",["59"],"import React, { Component, useState } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport 'react-dropdown/style.css';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport {\n    Table,\n    Button,\n    Container,\n    Modal,\n    ModalHeader,\n    ModalBody,\n    FormGroup,\n    ModalFooter\n} from \"reactstrap\";\nimport Swal from 'sweetalert2'\n\n\nclass Coordinador extends Component{\n    constructor(props) {\n        super(props);\n       \n        this.state = {\n            id: this.props.id,\n            tasks: [],\n            tasks2: [],\n            load2: false,\n            modalVer: false,\n            load: true,\n            depa:{\n                id: '',\n                nombre: ''\n            },\n            profile:{},\n            data: {}\n        };\n        this.fetchDepas();\n    }\n\n\n    fetchDepas(){\n        fetch('/depasr', {\n            method: 'POST',\n            body: JSON.stringify({\n                per: this.state.id\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.json())\n            .then(data => {\n                this.setState({depa:{\n                    id: data.id,\n                    nombre : data.nombre\n                }});\n                console.log(data.id)\n                this.fetchSelect(data.id)\n                this.fetchSelect2(data.id)\n            })\n            .catch(err => console.error(err));\n    }\n\n    fetchSelect(id){\n        fetch('/selectPl', {\n            method: 'POST',\n            body: JSON.stringify({\n                depa: id\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.json())\n            .then(data => {\n                this.setState({tasks: data});\n                console.log(data);\n            })\n            .catch(err => console.error(err));\n    }\n\n    fetchSelect2(id){\n        console.log(this.state.depa)\n        fetch('/selectPl2', {\n            method: 'POST',\n            body: JSON.stringify({\n                depa: id\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.json())\n            .then(data => {\n                this.setState({tasks2: data, load: false});\n                console.log(data);\n            })\n            .catch(err => console.error(err));\n    }\n\n\n    cerrarSesion(){\n        window.location.href='../';\n    }\n\n    mostrarModalVer(dato){\n        this.setState({modalVer: true, data:dato})\n    }\n    cerrarModalVer(){\n        this.setState({modalVer: false})\n    }\n\n    DescargarCV(cv){\n        this.setState({load2: true})\n        fetch('/controller', {\n            method: 'POST',\n            body: JSON.stringify({\n                d:cv\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.blob())\n            .then((blob) => {\n                // Create blob link to download\n                const url = window.URL.createObjectURL(\n                  new Blob([blob]),\n                );\n                const link = document.createElement('a');\n                link.href = url;\n                link.setAttribute(\n                  'download',\n                  `${cv}`,\n                );\n                // Append to html link element page\n                document.body.appendChild(link);\n                // Start download\n                link.click();\n                this.setState({load2: false})\n                // Clean up and remove the link\n                link.parentNode.removeChild(link);\n            });\n    }\n\n    Aceptar(data){\n        this.setState({load: true})\n        fetch('/insertPl', {\n            method: 'POST',\n            body: JSON.stringify({\n                cui: data.cui,\n                correo: data.correo,\n                name: data.nombre,\n                depa: this.state.depa.id,\n                dp: data.dpid\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.json())\n            .then(data => {\n                Swal.fire(\n                    'Hecho!',\n                    data.msg,\n                    'success'\n                )\n                this.fetchSelect(this.state.depa.id); \n                this.fetchSelect2(this.state.depa.id); \n            })\n            .catch(err => console.error(err));   \n    }\n\n    rechazar(data){\n        this.setState({load2: true})\n        fetch('/updatePl', {\n            method: 'PUT',\n            body: JSON.stringify({\n                cui: data.cui,\n                estado: '0'\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.json())\n            .then(data => {\n                Swal.fire(\n                    'Hecho!',\n                    data.msg,\n                    'success'\n                )\n                this.fetchSelect(this.state.depa.id); \n                this.setState({load2: false})\n            })\n            .catch(err => console.error(err));\n    }\n\n    despedir(data){\n        this.setState({load2: true})\n        fetch('/updatePl', {\n            method: 'PUT',\n            body: JSON.stringify({\n                cui: data.cui,\n                estado: '3'\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n            })\n            .then(res => res.json())\n            .then(data => {\n                Swal.fire(\n                    'Hecho!',\n                    data.msg,\n                    'info'\n                )\n                this.fetchSelect2(this.state.depa.id); \n                this.setState({load2: false})\n            })\n            .catch(err => console.error(err));   \n    }\n\n    render(){\n        return <div>\n            <Menu this = {this}/>\n            <Ver this = {this}/>\n            <div className=\"box\"></div>\n            <Container>\n            <Tabs>\n                   <TabList>\n                       <Tab>Contratar</Tab>\n                       <Tab>Planilla</Tab>\n                   </TabList>\n                   <TabPanel>\n                   {(() => {\n                        if(this.state.load === true){\n                            return<Container>\n                            <div class=\"load\">\n                            <hr/><hr/><hr/><hr/>\n                            </div>\n                            </Container>\n                        }else{\n                            return (\n                                <div>\n                                     <div className=\"xml\">\n                                         <h3>Aplicantes para contratar</h3>\n                                     </div>\n                                     <div className=\"box\"></div>\n                                     <Fethc this = {this}/>\n                                </div>\n                            ); \n                        }\n                    })()}\n                   </TabPanel>\n                   <TabPanel>\n                   {(() => {\n                        if(this.state.load === true){\n                            return<Container>\n                            <div class=\"load\">\n                            <hr/><hr/><hr/><hr/>\n                            </div>\n                            </Container>\n                        }else{\n                            return (\n                                <div>\n                                     <div className=\"xml\">\n                                         <h3>Personal Contratado</h3>\n                                     </div>\n                                     <div className=\"box\"></div>\n                                     <Fethc2 this = {this}/>\n                                </div>\n                            ); \n                        }\n                    })()}\n                   </TabPanel>\n               </Tabs>\n            </Container>\n           <Load this= {this}/>\n        </div>\n    }\n\n}\n\nfunction Load(props){\n    return (\n        <Modal isOpen={props.this.state.load2} fade={false}>\n        <div class=\"load\">\n        <hr/><hr/><hr/><hr/>\n        </div>\n        </Modal>\n    );\n}\n\nfunction Menu(props){\n    return ( <div>\n        <nav role=\"navigation\">\n        <div id=\"menuToggle\">\n        <input type=\"checkbox\"/>\n        <span></span>\n        <span></span>\n        <span></span>\n        <ul id=\"menu\">\n        <button onClick={()=>props.this.cerrarSesion()}><li>Cerrar Sesion</li></button>\n        </ul>\n        </div>\n        </nav>\n        <div className='xml'>\n        <h2>Coordinador del departamento: {props.this.state.depa.nombre}</h2>\n        </div>\n        </div>\n    );\n}\n\nfunction Ver(props) {\n    return(\n        <Modal isOpen={props.this.state.modalVer} fade={false}>\n            <ModalHeader>\n            <div><h3>Aplicante</h3></div>\n            </ModalHeader>\n            <ModalBody>\n                <FormGroup>\n                <label>\n                    CUI: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"id\"\n                    type=\"text\"\n                    readOnly\n                    value = {props.this.state.data.cui}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Nombre: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"nombre\"\n                    type=\"text\"\n                    readOnly\n                    value = {props.this.state.data.nombre}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Apellido: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"apellido\"\n                    type=\"text\"\n                    readOnly\n                    value = {props.this.state.data.apellido}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Correo: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"correo\"\n                    type=\"text\"\n                    readOnly\n                    value = {props.this.state.data.correo}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Direccion: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"direccion\"\n                    type=\"text\"\n                    readOnly\n                    value = {props.this.state.data.direccion}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    Telefono: \n                </label>\n                <input\n                    className=\"form-control\"\n                    name=\"user\"\n                    type=\"text\"\n                    readOnly\n                    value = {props.this.state.data.telefono}\n                />\n                </FormGroup>\n                <FormGroup>\n                <label>\n                    CV: \n                </label>\n                <Button style={{float: 'right'}}\n                color=\"primary\"\n                onClick={() => props.this.DescargarCV(props.this.state.data.cv)}\n                >\n                    {props.this.state.data.cv}\n                </Button> \n                </FormGroup>\n            </ModalBody>\n            <ModalFooter>      \n            <Button\n            color=\"danger\"\n            onClick={() => props.this.cerrarModalVer()}\n            >\n            Cerrar\n            </Button>\n            </ModalFooter>\n        </Modal>   \n    );\n}\n\nfunction Fethc(props) {\n    return(\n        <Container>\n        <br />\n        <Table>\n            <thead>\n            <tr>\n                <th>Nombre Completo</th>\n                <th>Puesto</th>\n                <th>Datos Personales</th>\n                <th>Contratar</th>\n            </tr>\n            </thead>\n\n            {props.this.state.tasks.map((dato) => (\n                (() => {\n                    if(dato.planilla === '0'){\n                        return <Elsen dato = {dato} this = {props.this}/>\n                    }else if(dato.planilla === '2'){\n                        return <Nothing dato = {dato} this = {props.this}/>\n                    }\n                })()\n            ))}\n\n        </Table>\n        </Container>\n    );\n}\n\n\nfunction Elsen(props) {\n    var dato = props.dato;\n    return(\n        <tbody style={{backgroundColor : \"#F44336\"}}>\n        <tr key={dato.id}>\n        <td>{dato.nombre} {dato.apellido}</td>\n        <td>{dato.puesto}</td>\n        <td>\n            <Button\n            onClick={() => props.this.mostrarModalVer(dato)}\n            >\n            Ver\n            </Button>\n        </td>    \n        </tr>\n        </tbody>\n    );\n}\n\nfunction Nothing(props) {\n    var dato = props.dato;\n    return(\n        <tbody >\n        <tr key={dato.id} >\n        <td>{dato.nombre} {dato.apellido}</td>\n        <td>{dato.puesto}</td>\n        <td>\n            <Button\n            onClick={() => props.this.mostrarModalVer(dato)}>\n            Ver\n            </Button>\n        </td>    \n        <td>\n            <Button\n            color=\"success\"\n            onClick={() => props.this.Aceptar(dato)}\n            >\n            Aceptar\n            </Button>\n            <Button color=\"danger\" \n            onClick={()=> props.this.rechazar(dato)}>\n            Rechazar</Button>\n        </td>\n        </tr>\n        </tbody>\n    );   \n}\n\nfunction Fethc2(props) {\n    return(\n        <Container>\n        <br />\n        <Table>\n            <thead>\n            <tr>\n                <th>Nombre Completo</th>\n                <th>Puesto</th>\n                <th>Datos Personales</th>\n                <th></th>\n            </tr>\n            </thead>\n\n            {props.this.state.tasks2.map((dato) => (\n                (() => {\n                    if(dato.planilla === '3'){\n                        return <Elsen2 dato = {dato} this = {props.this}/>\n                    }else if(dato.planilla === '1'){\n                        return <Nothing2 dato = {dato} this = {props.this}/>\n                    }\n                })()\n            ))}\n        </Table>\n        </Container>\n    );\n}\n\n\nfunction Elsen2(props) {\n    var dato = props.dato;\n    return(\n        <tbody style={{backgroundColor : \"#F44336\"}}>\n        <tr key={dato.id}>\n        <td>{dato.nombre} {dato.apellido}</td>\n        <td>{dato.puesto}</td>\n        <td>\n            <Button\n            onClick={() => props.this.mostrarModalVer(dato)}\n            >\n            Ver\n            </Button>\n        </td>    \n        </tr>\n        </tbody>\n    );\n}\n\nfunction Nothing2(props) {\n    var dato = props.dato;\n    return(\n        <tbody >\n        <tr key={dato.id} >\n        <td>{dato.nombre} {dato.apellido}</td>\n        <td>{dato.puesto}</td>\n        <td>\n            <Button\n            onClick={() => props.this.mostrarModalVer(dato)}>\n            Ver\n            </Button>\n        </td>    \n        <td>\n            <Button color=\"danger\" \n            onClick={()=> props.this.despedir(dato)}>\n            Despedir</Button>\n        </td>\n        </tr>\n        </tbody>\n    );   \n}\n\nexport default Coordinador;",{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","severity":1,"message":"65","line":18,"column":10,"nodeType":"66","messageId":"67","endLine":18,"endColumn":14},{"ruleId":"64","severity":1,"message":"68","line":18,"column":16,"nodeType":"66","messageId":"67","endLine":18,"endColumn":23},{"ruleId":"69","severity":1,"message":"70","line":321,"column":9,"nodeType":"71","endLine":321,"endColumn":65},{"ruleId":"69","severity":1,"message":"70","line":348,"column":9,"nodeType":"71","endLine":348,"endColumn":65},{"ruleId":"64","severity":1,"message":"72","line":10,"column":7,"nodeType":"66","messageId":"67","endLine":10,"endColumn":14},{"ruleId":"73","severity":1,"message":"74","line":446,"column":13,"nodeType":"75","messageId":"76","endLine":446,"endColumn":29},{"ruleId":"64","severity":1,"message":"77","line":1,"column":28,"nodeType":"66","messageId":"67","endLine":1,"endColumn":36},"no-native-reassign",["78"],"no-negated-in-lhs",["79"],"no-unused-vars","'auth' is assigned a value but never used.","Identifier","unusedVar","'SetAuth' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'cookies' is assigned a value but never used.","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","noDirectMutation","'useState' is defined but never used.","no-global-assign","no-unsafe-negation"]