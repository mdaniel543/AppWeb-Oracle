{"ast":null,"code":"var _jsxFileName = \"/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/login.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from 'react-router';\nimport '../styles/login.css';\nimport AdminSystem from \"./system\";\nimport AdminUser from \"./Auser\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: '',\n      pass: '',\n      tasks: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.prob = this.prob.bind(this);\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  loginVer(e) {\n    const ver = this.prob(e);\n    console.log(ver);\n  }\n\n  prob(e) {\n    e.preventDefault();\n    fetch('/loginn', {\n      method: 'POST',\n      body: JSON.stringify({\n        user: this.state.user,\n        pass: this.state.pass\n      }),\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data.Rol == undefined) {\n        console.log(\"NADA\");\n        window.alert(\"Usuario y/o Contraseña incorrecta\");\n        return false;\n      } else {\n        switch (data.Rol[0]) {\n          case \"Admin Sistema\":\n            console.log(\"adaAdmin Sistemas\");\n            break;\n\n          case \"Admin Usuario\":\n            console.log(\"Admin Usuario\");\n            break;\n        }\n      }\n\n      this.setState({\n        user: '',\n        pass: ''\n      });\n    }).catch(err => console.error(err));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"wrapper fadeInDown\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"formContent\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            class: \"active\",\n            children: \" Iniciar sesion \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"fadeIn first\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.loginVer,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"login\",\n              class: \"fadeIn second\",\n              name: \"user\",\n              onChange: this.handleChange,\n              value: this.state.user,\n              placeholder: \"Usuario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"password\",\n              class: \"fadeIn third\",\n              name: \"pass\",\n              onChange: this.handleChange,\n              value: this.state.pass,\n              placeholder: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              class: \"fadeIn fourth\",\n              value: \"Log In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default login;","map":{"version":3,"sources":["/home/daniel/Escritorio/MIA-Proyecto2/client/src/components/login.js"],"names":["React","Component","Redirect","AdminSystem","AdminUser","login","constructor","state","user","pass","tasks","handleChange","bind","prob","e","name","value","target","setState","loginVer","ver","console","log","preventDefault","fetch","method","body","JSON","stringify","headers","then","res","json","data","Rol","undefined","window","alert","catch","err","error","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from 'react-router';\nimport '../styles/login.css'\nimport AdminSystem from \"./system\";\nimport AdminUser from \"./Auser\";\n\nclass login extends Component{\n\n    constructor() {\n        super();\n        this.state = {\n          user: '',\n          pass: '',\n          tasks: []\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.prob = this.prob.bind(this);\n    }\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({\n          [name]: value\n        });\n    }\n\n    loginVer(e){\n        const ver = this.prob(e);\n        console.log(ver);\n    }\n    \n    prob(e) {\n        e.preventDefault();\n        fetch('/loginn', {\n        method: 'POST',\n        body: JSON.stringify({\n            user: this.state.user,\n            pass: this.state.pass\n        }),\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        }\n        })\n        .then(res => res.json())\n        .then(data => {\n            console.log(data)\n            if(data.Rol == undefined){\n                console.log(\"NADA\")\n                window.alert(\"Usuario y/o Contraseña incorrecta\");\n                return false;\n            }else{\n                switch(data.Rol[0]){\n                    case \"Admin Sistema\":\n                        console.log(\"adaAdmin Sistemas\")\n                        break;\n                    case \"Admin Usuario\":\n                        console.log(\"Admin Usuario\")\n                        break;\n                }\n            }\n            this.setState({user: '', pass: ''});\n        })\n        .catch(err => console.error(err));\n    }\n\n    render(){\n        return <div className=\"login\">\n            <div class=\"wrapper fadeInDown\">\n            <div id=\"formContent\">\n                <h2 class=\"active\"> Iniciar sesion </h2>\n                <div class=\"fadeIn first\">\n                </div>\n                <form onSubmit={this.loginVer}>\n                <input type=\"text\" id=\"login\" class=\"fadeIn second\" name=\"user\" onChange={this.handleChange} value={this.state.user} placeholder=\"Usuario\" />\n                <input type=\"password\" id=\"password\" class=\"fadeIn third\" name=\"pass\" onChange={this.handleChange} value={this.state.pass} placeholder=\"Contraseña\"/>\n                <input type=\"submit\" class=\"fadeIn fourth\" value=\"Log In\"/>\n                </form>\n            </div>\n            </div>\n        </div>\n    }\n}\n\nexport default login;"]},"metadata":{},"sourceType":"module"}